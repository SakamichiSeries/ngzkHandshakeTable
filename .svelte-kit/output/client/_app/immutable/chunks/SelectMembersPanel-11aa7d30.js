import{S as V,i as $,s as H,k as p,q as F,l as k,m as O,r as N,h as m,n as v,b as I,C as g,M as K,u as Y,A as G,a0 as x,a as A,c as E,f as d,g as q,t as w,d as z,I as y,v as Q,w as W,x as Z,y as J,a1 as ee}from"./index-1487159c.js";import{H as te,I as le,K as se,l as ne,L as ie,q as ae,S as P,M as X,N as re,O as oe,P as ce,Q as fe}from"./processData-253b72ea.js";function ue(){}function he(s,e,t){var a=-1,l=s.length;e<0&&(e=-e>l?0:l+e),t=t>l?l:t,t<0&&(t+=l),l=e>t?0:t-e>>>0,e>>>=0;for(var f=Array(l);++a<l;)f[a]=s[a+e];return f}function _e(s,e){return e.length<2?s:te(s,he(e,0,-1))}function me(s,e){return e=le(e,s),s=_e(s,e),s==null||delete s[se(ne(e))]}var ge=Array.prototype,be=ge.splice;function de(s,e){for(var t=s?e.length:0,a=t-1;t--;){var l=e[t];if(t==a||l!==f){var f=l;ie(l)?be.call(s,l,1):me(s,l)}}return s}function ve(s,e){var t=[];if(!(s&&s.length))return t;var a=-1,l=[],f=s.length;for(e=ae(e);++a<f;){var r=s[a];e(r,a,s)&&(t.push(r),l.push(a))}return de(s,l),t}var pe=1/0,ke=P&&1/X(new P([,-0]))[1]==pe?function(s){return new P(s)}:ue;const Ie=ke;var Se=200;function we(s,e,t){var a=-1,l=oe,f=s.length,r=!0,c=[],n=c;if(t)r=!1,l=ce;else if(f>=Se){var i=e?null:Ie(s);if(i)return X(i);r=!1,l=fe,n=new re}else n=e?[]:c;e:for(;++a<f;){var o=s[a],h=e?e(o):o;if(o=t||o!==0?o:0,r&&h===h){for(var _=n.length;_--;)if(n[_]===h)continue e;e&&n.push(h),c.push(o)}else l(n,h,t)||(n!==c&&n.push(h),c.push(o))}return c}function Ae(s){return s&&s.length?we(s):[]}function Ee(s){let e,t=s[0][s[1]]+"",a,l,f;return{c(){e=p("button"),a=F(t),this.h()},l(r){e=k(r,"BUTTON",{class:!0});var c=O(e);a=N(c,t),c.forEach(m),this.h()},h(){v(e,"class","svelte-1dxr33i")},m(r,c){I(r,e,c),g(e,a),l||(f=K(e,"click",s[2]),l=!0)},p(r,[c]){c&3&&t!==(t=r[0][r[1]]+"")&&Y(a,t)},i:G,o:G,d(r){r&&m(e),l=!1,f()}}}function Oe(s,e,t){let{states:a=[]}=e,l=0;const f=x();function r(){f("changeFrom",{text:a[l]}),t(1,l=l==a.length-1?0:l+1)}return s.$$set=c=>{"states"in c&&t(0,a=c.states)},[a,l,r]}class j extends V{constructor(e){super(),$(this,e,Oe,Ee,H,{states:0})}}function L(s,e,t){const a=s.slice();return a[10]=e[t],a}function T(s,e,t){const a=s.slice();return a[13]=e[t],a}function C(s){let e,t,a,l,f,r;t=new j({props:{states:["\u5168\u54E1\u9078\u3076","\u5168\u54E1\u5916\u3059"]}}),t.$on("changeFrom",s[6]);let c=!s[2]&&D();return{c(){e=p("div"),Q(t.$$.fragment),a=A(),c&&c.c(),l=A(),f=p("br"),this.h()},l(n){e=k(n,"DIV",{class:!0});var i=O(e);W(t.$$.fragment,i),a=E(i),c&&c.l(i),l=E(i),f=k(i,"BR",{}),i.forEach(m),this.h()},h(){v(e,"class","memberGrouping svelte-1edzgs0")},m(n,i){I(n,e,i),Z(t,e,null),g(e,a),c&&c.m(e,null),g(e,l),g(e,f),r=!0},p(n,i){n[2]?c&&(c.d(1),c=null):c||(c=D(),c.c(),c.m(e,l))},i(n){r||(d(t.$$.fragment,n),r=!0)},o(n){w(t.$$.fragment,n),r=!1},d(n){n&&m(e),J(t),c&&c.d()}}}function D(s){let e,t;return{c(){e=p("span"),t=F("18\u500B\u4EE5\u4E0B\u3092\u9078\u629E\u3059\u308B\u3053\u3068\u3092\u63A8\u5968\u3057\u307E\u3059"),this.h()},l(a){e=k(a,"SPAN",{class:!0});var l=O(e);t=N(l,"18\u500B\u4EE5\u4E0B\u3092\u9078\u629E\u3059\u308B\u3053\u3068\u3092\u63A8\u5968\u3057\u307E\u3059"),l.forEach(m),this.h()},h(){v(e,"class","weaker svelte-1edzgs0")},m(a,l){I(a,e,l),g(e,t)},d(a){a&&m(e)}}}function R(s){let e,t,a,l,f=s[13].kanji+"",r,c,n;return{c(){e=p("label"),t=p("input"),l=A(),r=F(f),this.h()},l(i){e=k(i,"LABEL",{});var o=O(e);t=k(o,"INPUT",{type:!0,name:!0,class:!0}),l=E(o),r=N(o,f),o.forEach(m),this.h()},h(){v(t,"type","checkbox"),v(t,"name","selectedMembers"),t.__value=a=s[13].member,t.value=t.__value,v(t,"class","svelte-1edzgs0"),s[9][0].push(t)},m(i,o){I(i,e,o),g(e,t),t.checked=~s[0].indexOf(t.__value),g(e,l),g(e,r),c||(n=K(t,"change",s[8]),c=!0)},p(i,o){o&8&&a!==(a=i[13].member)&&(t.__value=a,t.value=t.__value),o&1&&(t.checked=~i[0].indexOf(t.__value)),o&8&&f!==(f=i[13].kanji+"")&&Y(r,f)},d(i){i&&m(e),s[9][0].splice(s[9][0].indexOf(t),1),c=!1,n()}}}function U(s){let e,t,a,l,f;function r(...i){return s[7](s[10],...i)}t=new j({props:{states:s[10].labels}}),t.$on("changeFrom",r);let c=s[10].consistsOf,n=[];for(let i=0;i<c.length;i+=1)n[i]=R(T(s,c,i));return{c(){e=p("div"),Q(t.$$.fragment),a=A();for(let i=0;i<n.length;i+=1)n[i].c();l=A(),this.h()},l(i){e=k(i,"DIV",{class:!0});var o=O(e);W(t.$$.fragment,o),a=E(o);for(let h=0;h<n.length;h+=1)n[h].l(o);l=E(o),o.forEach(m),this.h()},h(){v(e,"class","groupList svelte-1edzgs0")},m(i,o){I(i,e,o),Z(t,e,null),g(e,a);for(let h=0;h<n.length;h+=1)n[h].m(e,null);g(e,l),f=!0},p(i,o){s=i;const h={};if(o&8&&(h.states=s[10].labels),t.$set(h),o&9){c=s[10].consistsOf;let _;for(_=0;_<c.length;_+=1){const u=T(s,c,_);n[_]?n[_].p(u,o):(n[_]=R(u),n[_].c(),n[_].m(e,l))}for(;_<n.length;_+=1)n[_].d(1);n.length=c.length}},i(i){f||(d(t.$$.fragment,i),f=!0)},o(i){w(t.$$.fragment,i),f=!1},d(i){i&&m(e),J(t),y(n,i)}}}function Me(s){let e,t,a,l=s[1].length>1&&C(s),f=s[3],r=[];for(let n=0;n<f.length;n+=1)r[n]=U(L(s,f,n));const c=n=>w(r[n],1,1,()=>{r[n]=null});return{c(){l&&l.c(),e=A(),t=p("div");for(let n=0;n<r.length;n+=1)r[n].c();this.h()},l(n){l&&l.l(n),e=E(n),t=k(n,"DIV",{class:!0});var i=O(t);for(let o=0;o<r.length;o+=1)r[o].l(i);i.forEach(m),this.h()},h(){v(t,"class","memberGrouping svelte-1edzgs0")},m(n,i){l&&l.m(n,i),I(n,e,i),I(n,t,i);for(let o=0;o<r.length;o+=1)r[o].m(t,null);a=!0},p(n,[i]){if(n[1].length>1?l?(l.p(n,i),i&2&&d(l,1)):(l=C(n),l.c(),d(l,1),l.m(e.parentNode,e)):l&&(q(),w(l,1,1,()=>{l=null}),z()),i&25){f=n[3];let o;for(o=0;o<f.length;o+=1){const h=L(n,f,o);r[o]?(r[o].p(h,i),d(r[o],1)):(r[o]=U(h),r[o].c(),d(r[o],1),r[o].m(t,null))}for(q(),o=f.length;o<r.length;o+=1)c(o);z()}},i(n){if(!a){d(l);for(let i=0;i<f.length;i+=1)d(r[i]);a=!0}},o(n){w(l),r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)w(r[i]);a=!1},d(n){l&&l.d(n),n&&m(e),n&&m(t),y(r,n)}}}function Pe(s,e,t){let a,{selectables:l}=e,{selectedMembers:f}=e,{nolimit:r=!1}=e;function c(u,b){let B=a.find(S=>S.gen==parseInt(u));if(b.match(/選ぶ$/))for(let S of B.consistsOf)f.find(M=>S.member==M.member)||f.push(S.member);else B.consistsOf.map(S=>ve(f,M=>M==S.member));t(0,f)}const n=u=>t(0,f=u.match(/選ぶ$/)?l.map(b=>b.member):[]),i=[[]],o=u=>n(u.detail.text),h=(u,b)=>c(u.gen,b.detail.text);function _(){f=ee(i[0],this.__value,this.checked),t(0,f)}return s.$$set=u=>{"selectables"in u&&t(1,l=u.selectables),"selectedMembers"in u&&t(0,f=u.selectedMembers),"nolimit"in u&&t(2,r=u.nolimit)},s.$$.update=()=>{s.$$.dirty&2&&t(3,a=Ae(l.map(u=>u.gen)).sort((u,b)=>parseInt(u)-parseInt(b)).map(u=>({gen:u,labels:[`\u5168${u}\u671F\u751F\u9078\u3076`,`\u5168${u}\u671F\u751F\u5916\u3059`],consistsOf:l.filter(b=>b.gen==u)})))},[f,l,r,a,c,n,o,h,_,i]}class Be extends V{constructor(e){super(),$(this,e,Pe,Me,H,{selectables:1,selectedMembers:0,nolimit:2})}}export{Be as S,j as a,we as b};
