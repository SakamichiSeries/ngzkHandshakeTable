import{S as H,i as K,s as Y,k as I,q as G,l as w,m as B,r as q,h as b,n as k,b as A,C as v,M as Q,u as te,A as L,a0 as se,a as M,c as P,f as S,g as T,t as O,d as y,I as W,v as Z,w as J,x as X,y as x,P as ne,a1 as le}from"./index-1487159c.js";import{H as ie,I as re,K as ae,l as oe,L as ce,q as fe,S as N,M as j,N as ue,O as he,P as _e,Q as ge}from"./processData-5282c69e.js";function me(){}function be(n,e,t){var i=-1,s=n.length;e<0&&(e=-e>s?0:s+e),t=t>s?s:t,t<0&&(t+=s),s=e>t?0:t-e>>>0,e>>>=0;for(var f=Array(s);++i<s;)f[i]=n[i+e];return f}function de(n,e){return e.length<2?n:ie(n,be(e,0,-1))}function pe(n,e){return e=re(e,n),n=de(n,e),n==null||delete n[ae(oe(e))]}var ve=Array.prototype,Se=ve.splice;function ke(n,e){for(var t=n?e.length:0,i=t-1;t--;){var s=e[t];if(t==i||s!==f){var f=s;ce(s)?Se.call(n,s,1):pe(n,s)}}return n}function Ie(n,e){var t=[];if(!(n&&n.length))return t;var i=-1,s=[],f=n.length;for(e=fe(e);++i<f;){var r=n[i];e(r,i,n)&&(t.push(r),s.push(i))}return ke(n,s),t}var we=1/0,Ae=N&&1/j(new N([,-0]))[1]==we?function(n){return new N(n)}:me;const Ee=Ae;var Oe=200;function Me(n,e,t){var i=-1,s=he,f=n.length,r=!0,o=[],l=o;if(t)r=!1,s=_e;else if(f>=Oe){var a=e?null:Ee(n);if(a)return j(a);r=!1,s=ge,l=new ue}else l=e?[]:o;e:for(;++i<f;){var u=n[i],g=e?e(u):u;if(u=t||u!==0?u:0,r&&g===g){for(var _=l.length;_--;)if(l[_]===g)continue e;e&&l.push(g),o.push(u)}else s(l,g,t)||(l!==o&&l.push(g),o.push(u))}return o}function Pe(n){return n&&n.length?Me(n):[]}function Be(n){let e,t=n[0][n[1]]+"",i,s,f;return{c(){e=I("button"),i=G(t),this.h()},l(r){e=w(r,"BUTTON",{class:!0});var o=B(e);i=q(o,t),o.forEach(b),this.h()},h(){k(e,"class","svelte-1dxr33i")},m(r,o){A(r,e,o),v(e,i),s||(f=Q(e,"click",n[2]),s=!0)},p(r,[o]){o&3&&t!==(t=r[0][r[1]]+"")&&te(i,t)},i:L,o:L,d(r){r&&b(e),s=!1,f()}}}function Fe(n,e,t){let{states:i=[]}=e,s=0;const f=se();function r(){f("changeFrom",{text:i[s]}),t(1,s=s==i.length-1?0:s+1)}function o(l){t(1,s=l)}return n.$$set=l=>{"states"in l&&t(0,i=l.states)},[i,s,r,o]}class ee extends H{constructor(e){super(),K(this,e,Fe,Be,Y,{states:0,resetState:3})}get resetState(){return this.$$.ctx[3]}}function C(n,e,t){const i=n.slice();return i[13]=e[t],i[14]=e,i[15]=t,i}function D(n,e,t){const i=n.slice();return i[16]=e[t],i}function R(n){let e,t,i,s,f,r;t=new ee({props:{states:["\u5168\u54E1\u9078\u3076","\u5168\u54E1\u5916\u3059"]}}),t.$on("changeFrom",n[8]);let o=!n[2]&&U();return{c(){e=I("div"),Z(t.$$.fragment),i=M(),o&&o.c(),s=M(),f=I("br"),this.h()},l(l){e=w(l,"DIV",{class:!0});var a=B(e);J(t.$$.fragment,a),i=P(a),o&&o.l(a),s=P(a),f=w(a,"BR",{}),a.forEach(b),this.h()},h(){k(e,"class","memberGrouping svelte-1edzgs0")},m(l,a){A(l,e,a),X(t,e,null),v(e,i),o&&o.m(e,null),v(e,s),v(e,f),r=!0},p(l,a){l[2]?o&&(o.d(1),o=null):o||(o=U(),o.c(),o.m(e,s))},i(l){r||(S(t.$$.fragment,l),r=!0)},o(l){O(t.$$.fragment,l),r=!1},d(l){l&&b(e),x(t),o&&o.d()}}}function U(n){let e,t;return{c(){e=I("span"),t=G("18\u500B\u4EE5\u4E0B\u3092\u9078\u629E\u3059\u308B\u3053\u3068\u3092\u63A8\u5968\u3057\u307E\u3059"),this.h()},l(i){e=w(i,"SPAN",{class:!0});var s=B(e);t=q(s,"18\u500B\u4EE5\u4E0B\u3092\u9078\u629E\u3059\u308B\u3053\u3068\u3092\u63A8\u5968\u3057\u307E\u3059"),s.forEach(b),this.h()},h(){k(e,"class","weaker svelte-1edzgs0")},m(i,s){A(i,e,s),v(e,t)},d(i){i&&b(e)}}}function V(n){let e,t,i,s=n[16].kanji+"",f,r,o;return{c(){e=I("label"),t=I("input"),i=M(),f=G(s),this.h()},l(l){e=w(l,"LABEL",{});var a=B(e);t=w(a,"INPUT",{type:!0,name:!0,class:!0}),i=P(a),f=q(a,s),a.forEach(b),this.h()},h(){k(t,"type","checkbox"),k(t,"name","selectedMembers"),t.__value=n[16].member,t.value=t.__value,k(t,"class","svelte-1edzgs0"),n[12][0].push(t)},m(l,a){A(l,e,a),v(e,t),t.checked=~n[0].indexOf(t.__value),v(e,i),v(e,f),r||(o=Q(t,"change",n[11]),r=!0)},p(l,a){a&1&&(t.checked=~l[0].indexOf(t.__value))},d(l){l&&b(e),n[12][0].splice(n[12][0].indexOf(t),1),r=!1,o()}}}function $(n){let e,t,i=n[15],s,f,r;const o=()=>n[9](t,i),l=()=>n[9](null,i);function a(...h){return n[10](n[13],...h)}let u={states:n[13].labels};t=new ee({props:u}),o(),t.$on("changeFrom",a);let g=n[13].consistsOf,_=[];for(let h=0;h<g.length;h+=1)_[h]=V(D(n,g,h));return{c(){e=I("div"),Z(t.$$.fragment),s=M();for(let h=0;h<_.length;h+=1)_[h].c();f=M(),this.h()},l(h){e=w(h,"DIV",{class:!0});var d=B(e);J(t.$$.fragment,d),s=P(d);for(let p=0;p<_.length;p+=1)_[p].l(d);f=P(d),d.forEach(b),this.h()},h(){k(e,"class","groupList svelte-1edzgs0")},m(h,d){A(h,e,d),X(t,e,null),v(e,s);for(let p=0;p<_.length;p+=1)_[p].m(e,null);v(e,f),r=!0},p(h,d){n=h,i!==n[15]&&(l(),i=n[15],o());const p={};if(t.$set(p),d&17){g=n[13].consistsOf;let c;for(c=0;c<g.length;c+=1){const m=D(n,g,c);_[c]?_[c].p(m,d):(_[c]=V(m),_[c].c(),_[c].m(e,f))}for(;c<_.length;c+=1)_[c].d(1);_.length=g.length}},i(h){r||(S(t.$$.fragment,h),r=!0)},o(h){O(t.$$.fragment,h),r=!1},d(h){h&&b(e),l(),x(t),W(_,h)}}}function Ne(n){let e,t,i,s=n[1].length>1&&R(n),f=n[4],r=[];for(let l=0;l<f.length;l+=1)r[l]=$(C(n,f,l));const o=l=>O(r[l],1,1,()=>{r[l]=null});return{c(){s&&s.c(),e=M(),t=I("div");for(let l=0;l<r.length;l+=1)r[l].c();this.h()},l(l){s&&s.l(l),e=P(l),t=w(l,"DIV",{class:!0});var a=B(t);for(let u=0;u<r.length;u+=1)r[u].l(a);a.forEach(b),this.h()},h(){k(t,"class","memberGrouping svelte-1edzgs0")},m(l,a){s&&s.m(l,a),A(l,e,a),A(l,t,a);for(let u=0;u<r.length;u+=1)r[u].m(t,null);i=!0},p(l,[a]){if(l[1].length>1?s?(s.p(l,a),a&2&&S(s,1)):(s=R(l),s.c(),S(s,1),s.m(e.parentNode,e)):s&&(T(),O(s,1,1,()=>{s=null}),y()),a&57){f=l[4];let u;for(u=0;u<f.length;u+=1){const g=C(l,f,u);r[u]?(r[u].p(g,a),S(r[u],1)):(r[u]=$(g),r[u].c(),S(r[u],1),r[u].m(t,null))}for(T(),u=f.length;u<r.length;u+=1)o(u);y()}},i(l){if(!i){S(s);for(let a=0;a<f.length;a+=1)S(r[a]);i=!0}},o(l){O(s),r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)O(r[a]);i=!1},d(l){s&&s.d(l),l&&b(e),l&&b(t),W(r,l)}}}function Ge(n,e,t){let{selectables:i}=e,{selectedMembers:s}=e,{nolimit:f=!1}=e,r=Pe(i.map(c=>c.gen)).sort((c,m)=>parseInt(c)-parseInt(m)).map(c=>({gen:c,labels:[`\u5168${c}\u671F\u751F\u9078\u3076`,`\u5168${c}\u671F\u751F\u5916\u3059`],consistsOf:i.filter(m=>m.gen==c)})),o=Array(r.length);function l(c,m){let z=r.find(E=>E.gen==parseInt(c));if(m.match(/選ぶ$/))for(let E of z.consistsOf)s.find(F=>E.member==F.member)||s.push(E.member);else z.consistsOf.map(E=>Ie(s,F=>F==E.member));t(0,s)}function a(){for(let c of o)c.resetState(0)}const u=c=>t(0,s=c.match(/選ぶ$/)?i.map(m=>m.member):[]),g=[[]],_=c=>u(c.detail.text);function h(c,m){ne[c?"unshift":"push"](()=>{o[m]=c,t(3,o)})}const d=(c,m)=>l(c.gen,m.detail.text);function p(){s=le(g[0],this.__value,this.checked),t(0,s)}return n.$$set=c=>{"selectables"in c&&t(1,i=c.selectables),"selectedMembers"in c&&t(0,s=c.selectedMembers),"nolimit"in c&&t(2,f=c.nolimit)},[s,i,f,o,r,l,u,a,_,h,d,p,g]}class Le extends H{constructor(e){super(),K(this,e,Ge,Ne,Y,{selectables:1,selectedMembers:0,nolimit:2,reset:7})}get reset(){return this.$$.ctx[7]}}export{Le as S,ee as a,Me as b,Pe as u};
