import{S as R,i as C,s as W,k as I,q as F,l as O,m as P,r as D,h as m,n as S,b as A,D as v,O as $,u as j,H as U,a3 as ee,a as w,c as M,g as k,v as q,d as E,f as L,K as J,y as Q,z as X,A as Y,B as Z,w as te,a1 as le,W as se}from"./index.c894d70a.js";import{R as ne,S as ie,T as re,H as ae,U as oe,L as ce,x as ue}from"./processData.e71bc414.js";function fe(s,e,t){var n=-1,l=s.length;e<0&&(e=-e>l?0:l+e),t=t>l?l:t,t<0&&(t+=l),l=e>t?0:t-e>>>0,e>>>=0;for(var f=Array(l);++n<l;)f[n]=s[n+e];return f}function he(s,e){return e.length<2?s:ne(s,fe(e,0,-1))}function _e(s,e){return e=ie(e,s),s=he(s,e),s==null||delete s[re(ae(e))]}var ge=Array.prototype,me=ge.splice;function be(s,e){for(var t=s?e.length:0,n=t-1;t--;){var l=e[t];if(t==n||l!==f){var f=l;oe(l)?me.call(s,l,1):_e(s,l)}}return s}function de(s,e){var t=[];if(!(s&&s.length))return t;var n=-1,l=[],f=s.length;for(e=ce(e);++n<f;){var r=s[n];e(r,n,s)&&(t.push(r),l.push(n))}return be(s,l),t}function pe(s){return s&&s.length?ue(s):[]}function ve(s){let e,t=s[0][s[1]]+"",n,l,f;return{c(){e=I("button"),n=F(t),this.h()},l(r){e=O(r,"BUTTON",{class:!0});var c=P(e);n=D(c,t),c.forEach(m),this.h()},h(){S(e,"class","svelte-1dxr33i")},m(r,c){A(r,e,c),v(e,n),l||(f=$(e,"click",s[2]),l=!0)},p(r,[c]){c&3&&t!==(t=r[0][r[1]]+"")&&j(n,t)},i:U,o:U,d(r){r&&m(e),l=!1,f()}}}function ke(s,e,t){let{states:n=[]}=e,l=0;const f=ee();function r(){f("changeFrom",{text:n[l]}),t(1,l=l==n.length-1?0:l+1)}function c(i){t(1,l=i)}return s.$$set=i=>{"states"in i&&t(0,n=i.states)},[n,l,r,c]}class x extends R{constructor(e){super(),C(this,e,ke,ve,W,{states:0,resetState:3})}get resetState(){return this.$$.ctx[3]}}function N(s,e,t){const n=s.slice();return n[13]=e[t],n[14]=e,n[15]=t,n}function T(s,e,t){const n=s.slice();return n[16]=e[t],n}function y(s){let e,t,n,l,f,r;t=new x({props:{states:["全員選ぶ","全員外す"]}}),t.$on("changeFrom",s[8]);let c=!s[2]&&V();return{c(){e=I("div"),Q(t.$$.fragment),n=w(),c&&c.c(),l=w(),f=I("br"),this.h()},l(i){e=O(i,"DIV",{class:!0});var a=P(e);X(t.$$.fragment,a),n=M(a),c&&c.l(a),l=M(a),f=O(a,"BR",{}),a.forEach(m),this.h()},h(){S(e,"class","memberGrouping svelte-1edzgs0")},m(i,a){A(i,e,a),Y(t,e,null),v(e,n),c&&c.m(e,null),v(e,l),v(e,f),r=!0},p(i,a){i[2]?c&&(c.d(1),c=null):c||(c=V(),c.c(),c.m(e,l))},i(i){r||(k(t.$$.fragment,i),r=!0)},o(i){E(t.$$.fragment,i),r=!1},d(i){i&&m(e),Z(t),c&&c.d()}}}function V(s){let e,t;return{c(){e=I("span"),t=F("18個以下を選択することを推奨します"),this.h()},l(n){e=O(n,"SPAN",{class:!0});var l=P(e);t=D(l,"18個以下を選択することを推奨します"),l.forEach(m),this.h()},h(){S(e,"class","weaker svelte-1edzgs0")},m(n,l){A(n,e,l),v(e,t)},d(n){n&&m(e)}}}function H(s){let e,t,n,l=s[16].kanji+"",f,r,c,i;return r=se(s[12][0]),{c(){e=I("label"),t=I("input"),n=w(),f=F(l),this.h()},l(a){e=O(a,"LABEL",{});var u=P(e);t=O(u,"INPUT",{type:!0,name:!0,class:!0}),n=M(u),f=D(u,l),u.forEach(m),this.h()},h(){S(t,"type","checkbox"),S(t,"name","selectedMembers"),t.__value=s[16].member,t.value=t.__value,S(t,"class","svelte-1edzgs0"),r.p(t)},m(a,u){A(a,e,u),v(e,t),t.checked=~(s[0]||[]).indexOf(t.__value),v(e,n),v(e,f),c||(i=$(t,"change",s[11]),c=!0)},p(a,u){u&1&&(t.checked=~(a[0]||[]).indexOf(t.__value))},d(a){a&&m(e),r.r(),c=!1,i()}}}function K(s){let e,t,n=s[15],l,f,r;const c=()=>s[9](t,n),i=()=>s[9](null,n);function a(...h){return s[10](s[13],...h)}let u={states:s[13].labels};t=new x({props:u}),c(),t.$on("changeFrom",a);let b=s[13].consistsOf,_=[];for(let h=0;h<b.length;h+=1)_[h]=H(T(s,b,h));return{c(){e=I("div"),Q(t.$$.fragment),l=w();for(let h=0;h<_.length;h+=1)_[h].c();f=w(),this.h()},l(h){e=O(h,"DIV",{class:!0});var d=P(e);X(t.$$.fragment,d),l=M(d);for(let p=0;p<_.length;p+=1)_[p].l(d);f=M(d),d.forEach(m),this.h()},h(){S(e,"class","groupList svelte-1edzgs0")},m(h,d){A(h,e,d),Y(t,e,null),v(e,l);for(let p=0;p<_.length;p+=1)_[p]&&_[p].m(e,null);v(e,f),r=!0},p(h,d){s=h,n!==s[15]&&(i(),n=s[15],c());const p={};if(t.$set(p),d&17){b=s[13].consistsOf;let o;for(o=0;o<b.length;o+=1){const g=T(s,b,o);_[o]?_[o].p(g,d):(_[o]=H(g),_[o].c(),_[o].m(e,f))}for(;o<_.length;o+=1)_[o].d(1);_.length=b.length}},i(h){r||(k(t.$$.fragment,h),r=!0)},o(h){E(t.$$.fragment,h),r=!1},d(h){h&&m(e),i(),Z(t),J(_,h)}}}function Se(s){let e,t,n,l=s[1].length>1&&y(s),f=s[4],r=[];for(let i=0;i<f.length;i+=1)r[i]=K(N(s,f,i));const c=i=>E(r[i],1,1,()=>{r[i]=null});return{c(){l&&l.c(),e=w(),t=I("div");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){l&&l.l(i),e=M(i),t=O(i,"DIV",{class:!0});var a=P(t);for(let u=0;u<r.length;u+=1)r[u].l(a);a.forEach(m),this.h()},h(){S(t,"class","memberGrouping svelte-1edzgs0")},m(i,a){l&&l.m(i,a),A(i,e,a),A(i,t,a);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(t,null);n=!0},p(i,[a]){if(i[1].length>1?l?(l.p(i,a),a&2&&k(l,1)):(l=y(i),l.c(),k(l,1),l.m(e.parentNode,e)):l&&(q(),E(l,1,1,()=>{l=null}),L()),a&57){f=i[4];let u;for(u=0;u<f.length;u+=1){const b=N(i,f,u);r[u]?(r[u].p(b,a),k(r[u],1)):(r[u]=K(b),r[u].c(),k(r[u],1),r[u].m(t,null))}for(q(),u=f.length;u<r.length;u+=1)c(u);L()}},i(i){if(!n){k(l);for(let a=0;a<f.length;a+=1)k(r[a]);n=!0}},o(i){E(l),r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)E(r[a]);n=!1},d(i){l&&l.d(i),i&&m(e),i&&m(t),J(r,i)}}}function Ie(s,e,t){let{selectables:n}=e,{selectedMembers:l}=e,{nolimit:f=!1}=e,r=pe(n.map(o=>o.gen)).sort((o,g)=>parseInt(o)-parseInt(g)).map(o=>({gen:o,labels:[`全${o}期生選ぶ`,`全${o}期生外す`],consistsOf:n.filter(g=>g.gen==o)})),c=Array(r.length);function i(o,g){let G=r.find(B=>B.gen==parseInt(o));if(g.match(/選ぶ$/))for(let B of G.consistsOf)l.find(z=>B.member==z.member)||l.push(B.member);else G.consistsOf.map(B=>de(l,z=>z==B.member));t(0,l)}function a(){for(let o of c)o.resetState(0)}const u=o=>t(0,l=o.match(/選ぶ$/)?n.map(g=>g.member):[]),b=[[]],_=o=>u(o.detail.text);function h(o,g){te[o?"unshift":"push"](()=>{c[g]=o,t(3,c)})}const d=(o,g)=>i(o.gen,g.detail.text);function p(){l=le(b[0],this.__value,this.checked),t(0,l)}return s.$$set=o=>{"selectables"in o&&t(1,n=o.selectables),"selectedMembers"in o&&t(0,l=o.selectedMembers),"nolimit"in o&&t(2,f=o.nolimit)},[l,n,f,c,r,i,u,a,_,h,d,p,b]}class Be extends R{constructor(e){super(),C(this,e,Ie,Se,W,{selectables:1,selectedMembers:0,nolimit:2,reset:7})}get reset(){return this.$$.ctx[7]}}export{Be as S,x as a,pe as u};
