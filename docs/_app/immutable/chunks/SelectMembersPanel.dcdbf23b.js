import{S as Y,i as $,s as K,k as I,q as z,l as A,m as O,r as D,h as b,n as k,b as w,D as v,L as W,u as te,H as T,Y as ne,a as F,c as M,g as S,v as L,d as B,f as q,M as Z,y as J,z as Q,A as X,B as x,w as se,W as le,T as ie}from"./index.b9180cdf.js";import{A as re,B as ae,C as oe,D as ce,E as fe,b as ue,S as P,F as j,G as he,H as _e,I as ge,K as me}from"./processData.558b32c3.js";function be(){}function de(s,e,t){var i=-1,n=s.length;e<0&&(e=-e>n?0:n+e),t=t>n?n:t,t<0&&(t+=n),n=e>t?0:t-e>>>0,e>>>=0;for(var u=Array(n);++i<n;)u[i]=s[i+e];return u}function pe(s,e){return e.length<2?s:re(s,de(e,0,-1))}function ve(s,e){return e=ae(e,s),s=pe(s,e),s==null||delete s[oe(ce(e))]}var Se=Array.prototype,ke=Se.splice;function Ie(s,e){for(var t=s?e.length:0,i=t-1;t--;){var n=e[t];if(t==i||n!==u){var u=n;fe(n)?ke.call(s,n,1):ve(s,n)}}return s}function Ae(s,e){var t=[];if(!(s&&s.length))return t;var i=-1,n=[],u=s.length;for(e=ue(e);++i<u;){var r=s[i];e(r,i,s)&&(t.push(r),n.push(i))}return Ie(s,n),t}var we=1/0,Ee=P&&1/j(new P([,-0]))[1]==we?function(s){return new P(s)}:be;const Be=Ee;var Fe=200;function Me(s,e,t){var i=-1,n=_e,u=s.length,r=!0,o=[],l=o;if(t)r=!1,n=ge;else if(u>=Fe){var c=e?null:Be(s);if(c)return j(c);r=!1,n=me,l=new he}else l=e?[]:o;e:for(;++i<u;){var a=s[i],g=e?e(a):a;if(a=t||a!==0?a:0,r&&g===g){for(var _=l.length;_--;)if(l[_]===g)continue e;e&&l.push(g),o.push(a)}else n(l,g,t)||(l!==o&&l.push(g),o.push(a))}return o}function Oe(s){return s&&s.length?Me(s):[]}function Ge(s){let e,t=s[0][s[1]]+"",i,n,u;return{c(){e=I("button"),i=z(t),this.h()},l(r){e=A(r,"BUTTON",{class:!0});var o=O(e);i=D(o,t),o.forEach(b),this.h()},h(){k(e,"class","svelte-1dxr33i")},m(r,o){w(r,e,o),v(e,i),n||(u=W(e,"click",s[2]),n=!0)},p(r,[o]){o&3&&t!==(t=r[0][r[1]]+"")&&te(i,t)},i:T,o:T,d(r){r&&b(e),n=!1,u()}}}function Pe(s,e,t){let{states:i=[]}=e,n=0;const u=ne();function r(){u("changeFrom",{text:i[n]}),t(1,n=n==i.length-1?0:n+1)}function o(l){t(1,n=l)}return s.$$set=l=>{"states"in l&&t(0,i=l.states)},[i,n,r,o]}class ee extends Y{constructor(e){super(),$(this,e,Pe,Ge,K,{states:0,resetState:3})}get resetState(){return this.$$.ctx[3]}}function y(s,e,t){const i=s.slice();return i[13]=e[t],i[14]=e,i[15]=t,i}function C(s,e,t){const i=s.slice();return i[16]=e[t],i}function R(s){let e,t,i,n,u,r;t=new ee({props:{states:["全員選ぶ","全員外す"]}}),t.$on("changeFrom",s[8]);let o=!s[2]&&U();return{c(){e=I("div"),J(t.$$.fragment),i=F(),o&&o.c(),n=F(),u=I("br"),this.h()},l(l){e=A(l,"DIV",{class:!0});var c=O(e);Q(t.$$.fragment,c),i=M(c),o&&o.l(c),n=M(c),u=A(c,"BR",{}),c.forEach(b),this.h()},h(){k(e,"class","memberGrouping svelte-1edzgs0")},m(l,c){w(l,e,c),X(t,e,null),v(e,i),o&&o.m(e,null),v(e,n),v(e,u),r=!0},p(l,c){l[2]?o&&(o.d(1),o=null):o||(o=U(),o.c(),o.m(e,n))},i(l){r||(S(t.$$.fragment,l),r=!0)},o(l){B(t.$$.fragment,l),r=!1},d(l){l&&b(e),x(t),o&&o.d()}}}function U(s){let e,t;return{c(){e=I("span"),t=z("18個以下を選択することを推奨します"),this.h()},l(i){e=A(i,"SPAN",{class:!0});var n=O(e);t=D(n,"18個以下を選択することを推奨します"),n.forEach(b),this.h()},h(){k(e,"class","weaker svelte-1edzgs0")},m(i,n){w(i,e,n),v(e,t)},d(i){i&&b(e)}}}function H(s){let e,t,i,n=s[16].kanji+"",u,r,o,l;return r=ie(s[12][0]),{c(){e=I("label"),t=I("input"),i=F(),u=z(n),this.h()},l(c){e=A(c,"LABEL",{});var a=O(e);t=A(a,"INPUT",{type:!0,name:!0,class:!0}),i=M(a),u=D(a,n),a.forEach(b),this.h()},h(){k(t,"type","checkbox"),k(t,"name","selectedMembers"),t.__value=s[16].member,t.value=t.__value,k(t,"class","svelte-1edzgs0"),r.p(t)},m(c,a){w(c,e,a),v(e,t),t.checked=~(s[0]||[]).indexOf(t.__value),v(e,i),v(e,u),o||(l=W(t,"change",s[11]),o=!0)},p(c,a){a&1&&(t.checked=~(c[0]||[]).indexOf(t.__value))},d(c){c&&b(e),r.r(),o=!1,l()}}}function V(s){let e,t,i=s[15],n,u,r;const o=()=>s[9](t,i),l=()=>s[9](null,i);function c(...h){return s[10](s[13],...h)}let a={states:s[13].labels};t=new ee({props:a}),o(),t.$on("changeFrom",c);let g=s[13].consistsOf,_=[];for(let h=0;h<g.length;h+=1)_[h]=H(C(s,g,h));return{c(){e=I("div"),J(t.$$.fragment),n=F();for(let h=0;h<_.length;h+=1)_[h].c();u=F(),this.h()},l(h){e=A(h,"DIV",{class:!0});var d=O(e);Q(t.$$.fragment,d),n=M(d);for(let p=0;p<_.length;p+=1)_[p].l(d);u=M(d),d.forEach(b),this.h()},h(){k(e,"class","groupList svelte-1edzgs0")},m(h,d){w(h,e,d),X(t,e,null),v(e,n);for(let p=0;p<_.length;p+=1)_[p]&&_[p].m(e,null);v(e,u),r=!0},p(h,d){s=h,i!==s[15]&&(l(),i=s[15],o());const p={};if(t.$set(p),d&17){g=s[13].consistsOf;let f;for(f=0;f<g.length;f+=1){const m=C(s,g,f);_[f]?_[f].p(m,d):(_[f]=H(m),_[f].c(),_[f].m(e,u))}for(;f<_.length;f+=1)_[f].d(1);_.length=g.length}},i(h){r||(S(t.$$.fragment,h),r=!0)},o(h){B(t.$$.fragment,h),r=!1},d(h){h&&b(e),l(),x(t),Z(_,h)}}}function ze(s){let e,t,i,n=s[1].length>1&&R(s),u=s[4],r=[];for(let l=0;l<u.length;l+=1)r[l]=V(y(s,u,l));const o=l=>B(r[l],1,1,()=>{r[l]=null});return{c(){n&&n.c(),e=F(),t=I("div");for(let l=0;l<r.length;l+=1)r[l].c();this.h()},l(l){n&&n.l(l),e=M(l),t=A(l,"DIV",{class:!0});var c=O(t);for(let a=0;a<r.length;a+=1)r[a].l(c);c.forEach(b),this.h()},h(){k(t,"class","memberGrouping svelte-1edzgs0")},m(l,c){n&&n.m(l,c),w(l,e,c),w(l,t,c);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(t,null);i=!0},p(l,[c]){if(l[1].length>1?n?(n.p(l,c),c&2&&S(n,1)):(n=R(l),n.c(),S(n,1),n.m(e.parentNode,e)):n&&(L(),B(n,1,1,()=>{n=null}),q()),c&57){u=l[4];let a;for(a=0;a<u.length;a+=1){const g=y(l,u,a);r[a]?(r[a].p(g,c),S(r[a],1)):(r[a]=V(g),r[a].c(),S(r[a],1),r[a].m(t,null))}for(L(),a=u.length;a<r.length;a+=1)o(a);q()}},i(l){if(!i){S(n);for(let c=0;c<u.length;c+=1)S(r[c]);i=!0}},o(l){B(n),r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)B(r[c]);i=!1},d(l){n&&n.d(l),l&&b(e),l&&b(t),Z(r,l)}}}function De(s,e,t){let{selectables:i}=e,{selectedMembers:n}=e,{nolimit:u=!1}=e,r=Oe(i.map(f=>f.gen)).sort((f,m)=>parseInt(f)-parseInt(m)).map(f=>({gen:f,labels:[`全${f}期生選ぶ`,`全${f}期生外す`],consistsOf:i.filter(m=>m.gen==f)})),o=Array(r.length);function l(f,m){let N=r.find(E=>E.gen==parseInt(f));if(m.match(/選ぶ$/))for(let E of N.consistsOf)n.find(G=>E.member==G.member)||n.push(E.member);else N.consistsOf.map(E=>Ae(n,G=>G==E.member));t(0,n)}function c(){for(let f of o)f.resetState(0)}const a=f=>t(0,n=f.match(/選ぶ$/)?i.map(m=>m.member):[]),g=[[]],_=f=>a(f.detail.text);function h(f,m){se[f?"unshift":"push"](()=>{o[m]=f,t(3,o)})}const d=(f,m)=>l(f.gen,m.detail.text);function p(){n=le(g[0],this.__value,this.checked),t(0,n)}return s.$$set=f=>{"selectables"in f&&t(1,i=f.selectables),"selectedMembers"in f&&t(0,n=f.selectedMembers),"nolimit"in f&&t(2,u=f.nolimit)},[n,i,u,o,r,l,a,c,_,h,d,p,g]}class Le extends Y{constructor(e){super(),$(this,e,De,ze,K,{selectables:1,selectedMembers:0,nolimit:2,reset:7})}get reset(){return this.$$.ctx[7]}}export{Le as S,ee as a,Me as b,Oe as u};
